<%# PARAMS: post  => Post
#           small => Boolean
%>

<div class="row post">
  <div class="col-md-12">
    <% unless post.featured_image.blank? %>
      <div class="row">
        <div class="col-md-12 post-image">
          <%= image_tag post.featured_image(:large), :class => 'img-responsive'%>
        </div>
      </div>
    <% end %>
    <div class="row">
      <div class="col-md-12 post-entry">
        <h2>
          <%= link_to post.title, post_path(post) %>
        </h2>
        <div class="text">
          <% if small %>
            <%= truncate_html post.body_html.html_safe, length: 400, omission: tview('post_continue', :link => post_path(post)) %>
          <% else %>
            <%= post.body_html.html_safe %>
          <% end %>
        </div>
        
        <% unless small %>
          <div class="row tags">
            <div class="col-md-12">
              <div class="row">
                <div class="tag-title">
                  <div class="col-md-12">
                    <%= tag_icon_and_text post %>
                  </div>
                </div>
              </div>
              
              <div class="row">
                <div class="tag-links">
                  <div class="col-md-12">
                    <%= tag_buttons post %>
                  </div>
                </div>
              </div>
            </div>
          </div>
        <% end %>
        
        <div class="row extra">
          <div class="col-md-2">
           <%= date_icon_and_text post %>
          </div>
          <div class="col-md-8">
            <%= category_icon_and_text post %>
          </div>
          <div class="col-md-2">
            <%= tag_icon_and_text post if small %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>