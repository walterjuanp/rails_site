<% content_for_header I18n.tmodel(Gallery), tview('gallery') %>

<div class="row action-buttons">
  <div class="col-md-7">
    <%= link_to I18n.tbtn('list_of_galleries'), bo_galleries_path, :class => 'btn btn-default' %>
  </div>
  <div class="col-md-5 align-right">
    <div class="btn-group">
      <%= link_to edit_bo_gallery_path(@gallery), :class => 'btn btn-default' do %>
        <span class="glyphicon glyphicon-pencil"></span>
      <% end %>
      <%= link_to bo_gallery_path(@gallery), :class => 'btn btn-danger', :confirm => I18n.tmsg('are_you_sure'), :method => :delete do %>
        <span class="glyphicon glyphicon-trash"></span>
      <% end %> 
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <dl class="dl-horizontal">
      <dt><%= I18n.tattr(Gallery, :name) %></dt>
      <dd><%= @gallery.name %></dd>
      <dt><%= I18n.tattr(Gallery, :description) %></dt>
      <dd><%= @gallery.description %></dd>
    </dl>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <p><b><%= I18n.tattr(Gallery, :images) %></b></p>
    <% for image in @gallery.images %>
      <div class="gallery-image-list">
        <%= image_tag image.image.url(:thumb) %>
        <%= link_to bo_gallery_delete_image_path(@gallery, image, :page => params[:page]), :class => 'btn btn-danger btn-xs', :confirm => I18n.tmsg('are_you_sure'), :method => :delete do %>
          <span class="glyphicon glyphicon-trash"></span>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <p><b><%= tview 'add_images' %></b></p>
    <% for image in @images %>
      <div class="gallery-image-list">
        <%= image_tag image.image.url(:thumb) %>
        <% if @gallery.images.include? image %>
          <span class="label label-success">
            <span class="glyphicon glyphicon-ok-circle"></span>
          </span>
          <%= link_to bo_gallery_delete_image_path(@gallery, image, :page => params[:page]), :class => 'btn btn-danger btn-xs', :confirm => I18n.tmsg('are_you_sure'), :method => :delete do %>
            <span class="glyphicon glyphicon-trash"></span>
          <% end %>
        <% else %>
          <%= link_to bo_gallery_add_image_path(@gallery, image, :page => params[:page]), :class => 'btn btn-default btn-xs', :method => :post do %>
            <span class="glyphicon glyphicon-plus"></span>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <%= will_paginate @images %>
  </div>
</div>

